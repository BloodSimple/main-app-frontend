
<head>
    <style>
       
     ::ng-deep .mat-form-field{
         background-color: wheat;
     }
    
     
    
    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" >
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    </head>

    <div class="container" >
        
        <div class="row">
            <div class="col">
                <div class="page-title  home text-center">
                  <span class="heading-page"> <span style="color:#931F20">Center</span><span style="color:#5E1313 ">Registration</span>
                  </span>
                    <p class="mt20"> Register a new medical center.</p>
                </div>
                </div>
                
                </div>
        <div class="row">
            <div class="col-md-7">
                <div class="row" style="text-align:center ;">
                    <span class="small-heading-page"> <span style="color:#931F20">Center</span><span style="color:#5E1313 ">information</span>
                    </span>
                  </div>
            <form (ngSubmit)="createCenter()"  #regForm="ngForm"    style=" justify-items: center; visibility: visible;text-align: center; margin-top: 5%;">
                   
    
                <div class="form-group">
                    <label style>Center name</label> <br>
                    <input name = "name"  id ="name" type="text" [(ngModel)]="center$.name" style="text-align: center;" class="forma-control form-control-lg" placeholder="Name" required #name="ngModel" >
                </div>
             
                <div class="form-group">
                    <label style>Description</label> <br>
                    <input name = "description" type="text" [(ngModel)]="center$.description"  style="text-align: center;" class="forma-control form-control-lg" placeholder="Descriptrion"  required >
                </div>

                <div class="form-group">
                    <label style>Street</label> <br>
                    <input name = "street"  type="text" [(ngModel)]="centerAddress$.street" style="text-align: center;" class="forma-control form-control-lg" placeholder="Street"  required  >
                </div>
                <div class="form-group">
                    <label style>Street number</label> <br>
                    <input name = "str_num"  type="text" [(ngModel)]="centerAddress$.number" style="text-align: center;" class="forma-control form-control-lg" placeholder="Street number"  required   >
                </div>
                <div class="form-group">
                    <label style>City</label> <br>
                    <input name = "city"  type="text" [(ngModel)]="centerAddress$.city" style="text-align: center;" class="forma-control form-control-lg" placeholder="City"  required   >
                </div>
                <div class="form-group">
                    <label style>Country</label> <br>
                    <input name = " country"  type="text" [(ngModel)]="centerAddress$.country" style="text-align: center;" class="forma-control form-control-lg" placeholder="Country"  required   >
                </div>
                
                <div class="form-group" style="margin-top:2ex">
                    <button class="btn btn-info btn-lg btn-block" type="submit" [disabled]="!regForm.valid" [disabled]="center_added"> REGISTER </button>
                    </div>
                
            </form>   
        </div>
        <div [hidden]="true" class="col" style="margin-top:-0%">
                <div class="row" >
                    <span class="small-heading-page"> <span style="color:#931F20">Assign</span><span style="color:#5E1313 ">Medical</span><span style="color:#931F20">Admin </span>
                    </span>
                  </div>
                  <div class="row" style="align-items: center; text-align:center">
                    <div class="col-md-3" >
                        <button class="btn btn-info btn-lg" (click)="existingTrue()" [disabled]="center_added"> Existing  </button>
                          
                      </div>
                      <div class="col-md-4">
                        <button class="btn btn-info btn-lg" (click)="existingFalse()" [disabled]="!center_added"> New profile </button>
                          
                      </div>
                      <div class="row" *ngIf="existing==true" > 
                        <div style="margin-left:-20%;">Before registration, assing an existing admin. This is optional.</div>
                        <table style="margin-left:-5%;">
                            <th >
                            <button  *ngFor="let a of existingAdmins$ ; let i = index" class=" row btn-lg btn-info "  [disabled]="center_added" style="background-color: gray; border-radius: 10px !important; width: 75%;
                            border: 1px solid gray !important; text-align: center; "  (click)="setAdmin(a)">
                                <div class="col"> {{a.name}}</div>
                                <div class="col">{{a.surname}}</div>
                                <div class="col">{{a.job}}</div>
                               
                        </button>
                    </th>
                        </table>
                    </div>

                    <div class="row" *ngIf="existing==false" style="margin-left: -25%;" [hidden]="!center_added">
                        <div style="margin-left:auto;">Create new administrator profile and assign it to this center.</div>

                        <form (ngSubmit)="assignAdmin()"  #regForm="ngForm"    style=" justify-items: center; visibility: visible;text-align: center; ">
                            <div class="row" >
                                <div class="col"  >
                                    <div class="form-group2">
                                        <label style>Admin name</label> <br>
                                        <input name = "aname"  id ="aname" type="text" [(ngModel)]="adminMock$.name" style="text-align: center;" class="forma-control form-control-sm" placeholder="Name" required #name="ngModel" >
                                    </div>
                                </div>
                                <div class="col" >
                                    <div class="form-group2" >
                                        <label style>Admin surname</label> <br>
                                        <input name = "asurname"  id ="asurname" type="text" [(ngModel)]="adminMock$.surname" style="text-align: center;" class="forma-control form-control-sm" placeholder="Surname" required #name="ngModel" >
                                    </div>
                                </div>
                            </div>
                            <div class="row" >
                                <div class="col"  >
                                    <div class="form-group2">
                                        <label style>Email</label> <br>
                                        <input name = "email"  id ="email" type="text" [(ngModel)]="adminMock$.email" style="text-align: center;" class="forma-control form-control-sm" placeholder="Email address" required #name="ngModel" >
                                    </div>
                                </div>
                                <div class="col" >
                                    <div class="form-group2" >
                                        <label style>Password</label> <br>
                                        <input name = "password"  id ="paassword" type="text" [(ngModel)]="adminMock$.password" style="text-align: center;" class="forma-control form-control-sm" placeholder="For first login" required #name="ngModel" >
                                    </div>
                                </div>
                            </div>
                            <div class="row"> 
                                <div class="form-group2" >
                                    <label style>Id</label> <br>
                                    <input name = "aid"  id ="aid" type="text" [(ngModel)]="adminMock$.personalId" style="text-align: center; width: 65%;" class="forma-control form-control-sm" placeholder="jmbg" required #name="ngModel" >
                                </div>
                                 </div>
                                 <div class="row"> 
                                    <div class="form-group2" >
                                        <label style>Phone number</label> <br>
                                        <input name = "phone"  id ="phone" type="text" [(ngModel)]="adminMock$.phoneNumber" style="text-align: center; width: 65%;" class="forma-control form-control-sm" placeholder="Phone number" required #name="ngModel" >
                                    </div>
                                     </div>
                                <div class="row">
                                        <div class="form-group" style="text-align: center; align-content: center; font-size: 2.2ex; margin-top: 1ex; margin-bottom: 1ex;">
                                            <label style="margin-right: 1ex;"> Female </label>
                                            <input name = "sex" class="form-check-input" type="radio" name="sex" id="female" checked style="margin-right: 9ex;" (click)="gender='FEMALE'" >
                                            
                                            <input name = "sex2" class="form-check-input" type="radio" name="sex" id="male" (click)="gender='MALE'"  >
                                            <label style="margin-left: 1ex;">   Male </label>
                                </div>
                                     </div>
                           <div class="row" >
                                <div class="col"  >
                                    <div class="form-group2">
                                        <label style>Street</label> <br>
                                        <input name = "astreet"  id ="astreet" type="text" [(ngModel)]="adminMock$.address.street" style="text-align: center;" class="forma-control form-control-sm" placeholder="Street" required #name="ngModel" >
                                    </div>
                                </div>
                                <div class="col" >
                                    <div class="form-group2" >
                                        <label style>Street number</label> <br>
                                        <input name = "asnum"  id ="asnum" type="text" [(ngModel)]="adminMock$.address.number" style="text-align: center;" class="forma-control form-control-sm" placeholder="Street number" required #name="ngModel" >
                                    </div>
                                </div>
                            </div>
                            <div class="row" >
                                <div class="col"  >
                                    <div class="form-group2">
                                        <label style>City</label> <br>
                                        <input name = "acity"  id ="acity" type="text" [(ngModel)]="adminMock$.address.city" style="text-align: center;" class="forma-control form-control-sm" placeholder="City" required #name="ngModel" >
                                    </div>
                                </div>
                                <div class="col" >
                                    <div class="form-group2" >
                                        <label style>Country</label> <br>
                                        <input name = "acountry"  id ="acountry" type="text" [(ngModel)]="adminMock$.address.country" style="text-align: center;" class="forma-control form-control-sm" placeholder="Country" required #name="ngModel" >
                                    </div>
                                </div>
                            </div>
                            <div class="row" >
                                <div class="col"  >
                                    <div class="form-group2">
                                        <label style>Job</label> <br>
                                        <input name = "job"  id ="job" type="text" [(ngModel)]="adminMock$.job" style="text-align: center;" class="forma-control form-control-sm" placeholder="Current job" required #name="ngModel" >
                                    </div>
                                </div>
                                <div class="col" >
                                    <div class="form-group2" >
                                        <label style>Biography</label> <br>
                                        <textarea name = "biography"  id ="biography" type="text" [(ngModel)]="adminMock$.bio" style="text-align: center;height :20px;" class="forma-control form-control-sm" placeholder="More information"  required #name="ngModel" >
                                        </textarea>
                                        </div>
                                </div>
                            </div>
                        
                        
                            <div class="form-group" style="margin-top:2ex">
                                <button class="btn btn-info btn-lg btn-block" type="submit" [disabled]="!regForm.valid"> ASSIGN ADMIN </button>
                                </div>
                            
                        </form>  

                    </div>

                  </div>
                  

                  

        </div>
        </div>
        
                </div>



    